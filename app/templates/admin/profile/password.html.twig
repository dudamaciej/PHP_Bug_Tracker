{% extends 'base.html.twig' %}

{% block title %}Change Password{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2>Change Password</h2>
    
    <div class="card mt-3">
        <div class="card-body">
            {% if app.flashes('error') %}
                <div class="alert alert-danger">
                    {% for message in app.flashes('error') %}
                        {{ message }}<br>
                    {% endfor %}
                </div>
            {% endif %}
            
            {% if app.flashes('success') %}
                <div class="alert alert-success">
                    {% for message in app.flashes('success') %}
                        {{ message }}<br>
                    {% endfor %}
                </div>
            {% endif %}
            
            {{ form_start(form) }}
                <div class="mb-3">
                    {{ form_label(form.currentPassword) }}
                    {{ form_widget(form.currentPassword) }}
                    {{ form_errors(form.currentPassword) }}
                </div>
                <div class="mb-3">
                    {{ form_label(form.newPassword.first) }}
                    {{ form_widget(form.newPassword.first) }}
                    {{ form_errors(form.newPassword.first) }}
                </div>
                <div class="mb-3">
                    {{ form_label(form.newPassword.second) }}
                    {{ form_widget(form.newPassword.second) }}
                    {{ form_errors(form.newPassword.second) }}
                </div>
                
                {% if form.vars.errors|length > 0 %}
                    <div class="alert alert-danger">
                        {{ form_errors(form) }}
                    </div>
                {% endif %}
                
                <button type="submit" class="btn btn-success">Change Password</button>
                <a href="{{ path('admin_profile') }}" class="btn btn-secondary">Cancel</a>
            {{ form_end(form) }}
        </div>
    </div>
</div>
{% endblock %} 